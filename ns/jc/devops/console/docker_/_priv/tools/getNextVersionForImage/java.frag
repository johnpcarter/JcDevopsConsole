<?xml version="1.0" encoding="UTF-8"?>

<Values version="2.0">
  <value name="name">getNextVersionForImage</value>
  <value name="encodeutf8">true</value>
  <value name="body">Ly8gcGlwZWxpbmUgaW4KCklEYXRhQ3Vyc29yIHBpcGVsaW5lQ3Vyc29yID0gcGlwZWxpbmUuZ2V0
Q3Vyc29yKCk7ClN0cmluZyBidWlsZFR5cGUgPSBJRGF0YVV0aWwuZ2V0U3RyaW5nKHBpcGVsaW5l
Q3Vyc29yLCAiYnVpbGRUeXBlIik7ClN0cmluZyB0YWcgPSBJRGF0YVV0aWwuZ2V0U3RyaW5nKHBp
cGVsaW5lQ3Vyc29yLCAidGFnIik7CmJvb2xlYW4gaXNEZWRpY2F0ZWRSZXBvID0gSURhdGFVdGls
LmdldEJvb2xlYW4ocGlwZWxpbmVDdXJzb3IsICJpc0RlZGljYXRlZFJlcG8iKTsKCnRyeSB7CgkJ
CQoJSURhdGFbXQlpbWFnZXMgPSBJRGF0YVV0aWwuZ2V0SURhdGFBcnJheShwaXBlbGluZUN1cnNv
ciwgImltYWdlcyIpOwoJCQkKCVN0cmluZyBsYXRlc3QgPSBudWxsOwoJCQoJZm9yICggaW50IGkg
PSAwOyBpIDwgaW1hZ2VzLmxlbmd0aDsgaSsrICkKCXsKCQlJRGF0YUN1cnNvciBpbWFnZXNDdXJz
b3IgPSBpbWFnZXNbaV0uZ2V0Q3Vyc29yKCk7CgkJU3RyaW5nIGlkID0gSURhdGFVdGlsLmdldFN0
cmluZyhpbWFnZXNDdXJzb3IsICJpZCIpOwoJCVN0cmluZyBfdmVyc2lvbiA9IElEYXRhVXRpbC5n
ZXRTdHJpbmcoaW1hZ2VzQ3Vyc29yLCAiX3ZlcnNpb24iKTsKCQlpbWFnZXNDdXJzb3IuZGVzdHJv
eSgpOwoJCQkKCQlpZiAoX3ZlcnNpb24gIT0gImxhdGVzdCIgJiYgKGkgPT0gMCB8fCBsYXRlc3Qg
PT0gbnVsbCkpIHsKCQkJbGF0ZXN0ID0gX3ZlcnNpb247CgkJfQoJfQoJCQkJCQkKCWlmIChsYXRl
c3QgIT0gbnVsbCkgewoJCWxhdGVzdCA9IGluY3JlbWVudFZlcnNpb24obGF0ZXN0LCBidWlsZFR5
cGUpOwoJfSBlbHNlIHsKCQlsYXRlc3QgPSAiMC4wLjEiOwoJfQoJCQoJU3RyaW5nIHRhZ1dpdGhv
dXRWZXJzaW9uID0gIiI7CglpbnQgaW5kZXggPSAtMTsKCQoJaWYgKGlzRGVkaWNhdGVkUmVwbykg
ewoJCWluZGV4ID0gdGFnLmxhc3RJbmRleE9mKCI6Iik7Cgl9IGVsc2UgewoJCWluZGV4ID0gdGFn
Lmxhc3RJbmRleE9mKCItIik7Cgl9CgkKCXRhZ1dpdGhvdXRWZXJzaW9uID0gdGFnLnN1YnN0cmlu
ZygwLCBpbmRleCk7CgkKCQkKCS8vIHBpcGVsaW5lIG91dAoJCQoJaWYgKGlzRGVkaWNhdGVkUmVw
bykgewoJCUlEYXRhVXRpbC5wdXQocGlwZWxpbmVDdXJzb3IsICJ0YWciLCB0YWdXaXRob3V0VmVy
c2lvbiArICI6IiArIGxhdGVzdCk7CgkJSURhdGFVdGlsLnB1dChwaXBlbGluZUN1cnNvciwgInRh
Z0xhdGVzdCIsIHRhZ1dpdGhvdXRWZXJzaW9uICsgIjpsYXRlc3QiKTsKCX0gZWxzZSB7CgkJSURh
dGFVdGlsLnB1dChwaXBlbGluZUN1cnNvciwgInRhZyIsIHRhZ1dpdGhvdXRWZXJzaW9uICsgIi0i
ICsgbGF0ZXN0KTsKCQlJRGF0YVV0aWwucHV0KHBpcGVsaW5lQ3Vyc29yLCAidGFnTGF0ZXN0Iiwg
dGFnV2l0aG91dFZlcnNpb24gKyAiLWxhdGVzdCIpOwoJfQoKCQkKCUlEYXRhVXRpbC5wdXQocGlw
ZWxpbmVDdXJzb3IsICJ2ZXJzaW9uIiwgbGF0ZXN0KTsKCX0gY2F0Y2goRXhjZXB0aW9uIGUpIHsK
CQllLnByaW50U3RhY2tUcmFjZSgpOwoJCXRocm93IG5ldyBTZXJ2aWNlRXhjZXB0aW9uKGUpOwoJ
fQoKcGlwZWxpbmVDdXJzb3IuZGVzdHJveSgpOwoJ</value>
</Values>
